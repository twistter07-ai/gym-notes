<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Workout Tracker</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  margin: 0;
  padding: 15px;
}
h1 {
  text-align: center;
  color: #38bdf8;
}
.card {
  background: #020617;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 15px;
}
input, button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 8px;
  border: none;
}
input {
  background: #020617;
  color: #fff;
  border: 1px solid #334155;
}
button {
  background: #38bdf8;
  font-weight: bold;
  cursor: pointer;
}
button:hover {
  opacity: 0.9;
}
.exercise {
  border-bottom: 1px solid #1e293b;
  padding: 8px 0;
}
.timer {
  font-size: 28px;
  text-align: center;
  margin: 10px 0;
}
.calendar {
  text-align: center;
}
</style>
</head>

<body>

<h1>üèãÔ∏è Workout Tracker</h1>

<div class="card calendar">
  <h3>Select Date</h3>
  <input type="date" id="workoutDate">
</div>

<div class="card">
  <h3>Add Exercise</h3>
  <input id="exerciseName" placeholder="Exercise name">
  <input id="sets" type="number" placeholder="Sets">
  <input id="reps" type="number" placeholder="Reps">
  <button onclick="addExercise()">Add</button>
</div>

<div class="card">
  <h3>Workout Log</h3>
  <div id="workoutList"></div>
</div>

<div class="card">
  <h3>‚è± Rest Timer</h3>
  <input id="restTime" type="number" placeholder="Rest seconds">
  <div class="timer" id="timer">00:00</div>
  <button onclick="startTimer()">Start Timer</button>
</div>

<script>
const workoutList = document.getElementById("workoutList");
const dateInput = document.getElementById("workoutDate");

dateInput.valueAsDate = new Date();

function getKey() {
  return "workout_" + dateInput.value;
}

function loadWorkout() {
  workoutList.innerHTML = "";
  const data = JSON.parse(localStorage.getItem(getKey())) || [];
  data.forEach(ex => {
    const div = document.createElement("div");
    div.className = "exercise";
    div.textContent = `${ex.name} - ${ex.sets} x ${ex.reps}`;
    workoutList.appendChild(div);
  });
}

function addExercise() {
  const name = exerciseName.value;
  const sets = sets.value;
  const reps = reps.value;

  if (!name || !sets || !reps) return;

  const data = JSON.parse(localStorage.getItem(getKey())) || [];
  data.push({ name, sets, reps });
  localStorage.setItem(getKey(), JSON.stringify(data));

  exerciseName.value = "";
  sets.value = "";
  reps.value = "";

  loadWorkout();
}

dateInput.addEventListener("change", loadWorkout);
loadWorkout();

// TIMER
let interval;
function startTimer() {
  clearInterval(interval);
  let time = parseInt(restTime.value);
  if (!time) return;

  updateTimer(time);
  interval = setInterval(() => {
    time--;
    updateTimer(time);
    if (time <= 0) {
      clearInterval(interval);
      alert("Rest Over! üí™");
    }
  }, 1000);
}

function updateTimer(seconds) {
  const m = String(Math.floor(seconds / 60)).padStart(2, "0");
  const s = String(seconds % 60).padStart(2, "0");
  timer.textContent = `${m}:${s}`;
}
</script>

</body>
</html>